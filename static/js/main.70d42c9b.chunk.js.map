{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App/App.module.css","services/Api/api.js","components/Loader/LoaderSpinner.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","BASE_URL","API_KEY","type","orientation","quantityPerPage","fetchData","search","a","page","fetch","res","ok","json","Promise","reject","Error","statusText","LoaderSpinner","color","height","width","timeout","Searchbar","state","searchValue","handleChange","event","value","target","setState","handelSubmit","preventDefault","trim","props","addDataForRequest","toLowerCase","className","style","SearchForm","onSubmit","this","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","smalImg","toggleModal","getAPicture","largeImg","onClick","ImageGalleryItem_image","src","alt","ImageGallery","images","map","id","webformatURL","largeImageURL","Button","increasePageRequest","modalRootRef","document","querySelector","Modal","onEscPress","code","onBackdropClick","currentTarget","window","addEventListener","removeEventListener","console","log","createPortal","Overlay","App","request","isOpen","prevState","prevProps","snapshot","data","hits","error","message","loading","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.70d42c9b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1jU-Q\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1XeTf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3_zHG\",\"Modal\":\"Modal_Modal__31Js0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3zovt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2zvY5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3ozmI\"};","// https://pixabay.com/api/?q=cat&page=1&key=your_key&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/?key=\";\r\nconst API_KEY = '18623542-c3ea86fe133d4cad85931c408';\r\nconst type = '&image_type=photo';\r\nconst orientation = '&orientation=horizontal';\r\nconst quantityPerPage = '&per_page=12';\r\n\r\nconst fetchData = async (search, page = 1) => {\r\n  const res = await fetch(`${BASE_URL}${API_KEY}&q=${search}${type}${orientation}&page=${page}${quantityPerPage}`);\r\n  return res.ok ? res.json() : Promise.reject(new Error(res.statusText));\r\n\r\n};\r\nexport { fetchData };\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoaderSpinner = () => {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={200}\r\n      width={200}\r\n      timeout={1000} //1 secs\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoaderSpinner;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchValue: '',\r\n  }\r\n\r\n  handleChange = event => {\r\n    const value = event.target.value;\r\n    this.setState({ searchValue: value });\r\n  }\r\n\r\n  handelSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.searchValue.trim() === \"\") return;\r\n    this.props.addDataForRequest(this.state.searchValue.toLowerCase());\r\n    this.setState({ searchValue: \"\" });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className={style.Searchbar}>\r\n          <form className={style.SearchForm} onSubmit={this.handelSubmit}>\r\n            <button className={style.SearchForm_button} type=\"submit\">\r\n              <span className={style.SearchForm_button_label}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={style.SearchForm_input}\r\n              onChange={this.handleChange}\r\n              value={this.state.searchValue}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  addDataForRequest: PropTypes.func.isRequired,\r\n};\r\nexport default Searchbar;","import PropTypes from \"prop-types\";\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ smalImg, toggleModal, getAPicture, largeImg }) => {\r\n  return (\r\n    <>\r\n      {\r\n        <li onClick={() =>{toggleModal(); getAPicture(largeImg)}} className={style.ImageGalleryItem}>\r\n          <img className={style.ImageGalleryItem_image} src={smalImg} alt=\"\" />\r\n        </li>\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  smalImg: PropTypes.string.isRequired,\r\n  largeImg: PropTypes.string.isRequired,\r\n  getAPicture: PropTypes.func.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from \"prop-types\";\r\nimport style from \"../ImageGallery/ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, getAPicture, toggleModal }) => {\r\n  return (\r\n    <>\r\n      <ul className={style.ImageGallery}>\r\n        {images.map(({ id, webformatURL, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            toggleModal={toggleModal}\r\n            getAPicture={getAPicture}\r\n            smalImg={webformatURL}\r\n            largeImg={largeImageURL}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  getAPicture: PropTypes.func.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","// import PropTypes from \"prop-types\";\r\nimport style from \"./Button.module.css\";\r\nconst Button = ({ increasePageRequest }) => {\r\n  return (\r\n    <button onClick={increasePageRequest} className={style.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\n// Button.propTypes = {\r\n//   increasePageRequest: PropTypes.func,\r\n// };\r\n\r\nexport default Button;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nconst modalRootRef = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onEscPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onEscPress);\r\n  }\r\n\r\n  onEscPress = event => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  onBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    console.log(largeImageURL);\r\n    return createPortal(\r\n      <>\r\n        {\r\n          <div onClick={this.onBackdropClick}  className={style.Overlay}>\r\n            <div className={style.Modal}>\r\n              <img src={largeImageURL} alt=\"\" />\r\n            </div>\r\n          </div>\r\n        }\r\n      </>,\r\n      modalRootRef\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;","import React, { Component } from \"react\";\nimport { fetchData } from \"../services/Api/api\";\nimport LoaderSpinner from \"../components/Loader/LoaderSpinner\";\nimport Searchbar from \"../components/Searchbar/Searchbar\";\nimport ImageGallery from \"../components/ImageGallery/ImageGallery\";\nimport Button from \"../components/Button/Button\";\nimport Modal from \"../components/Modal\"\nimport \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    request: \"\",\n    isOpen: false,\n    page: 1,\n    largeImageURL: \"\",\n  };\n  //1\n  // async componentDidUpdate(prevProps, prevState, snapshot) {\n  //   const { request, page } = this.state;\n\n  //   if (prevState.page !== page || prevState.request !== request) {\n\n  //     try {\n  //       const data = await fetchData(request, page);\n  //       this.setState((prevState) => ({ images: [...prevState.images, ...data.hits] }));//prevState.request !== request ?data.hits:[...prevState.images, ...data.hits]\n  //     } catch (error) {\n  //       this.setState({ error: error.message });\n  //     } finally {\n  //       this.setState({ loading: false });\n  //     }\n  //   }\n  // }\n  //2\n  async componentDidUpdate(prevProps, prevState, snapshot) {\n    const { request, page } = this.state;\n\n    if (prevState.page !== page || prevState.request !== request) {\n      try {\n        const data = await fetchData(request, page);\n        prevState.request !== request\n          ? this.setState({ images: [...data.hits], page: 1 })\n          : this.setState((prevState) => ({ images: [...prevState.images, ...data.hits] }));\n      } catch (error) {\n        this.setState({ error: error.message });\n      } finally {\n        this.setState({ loading: false });\n      }\n    }\n  }\n\n  // 3 ???\n  // async componentDidUpdate(prevProps, prevState, snapshot) {\n  //   const { request, page } = this.state;\n\n  //   if (prevState.page !== page || prevState.request !== request) {\n  //     try {\n  //       const data = await fetchData(request, page);\n  //       this.setState((prevState) => ({ images: [...prevState.images, ...data.hits] })); //prevState.request !== request ? data.hits : [...prevState.images, ...data.hits]\n\n  //     } catch (error) {\n  //       this.setState({ error: error.message });\n  //     } finally {\n  //       this.setState({ loading: false });\n  //     }\n  //   }\n  // }\n\n  addDataForRequest = (value) => {\n    return this.setState({ request: value });\n  };\n\n  increasePageRequest = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  toggleModal = (event) => {\n    this.setState((prevState) => ({ isOpen: !prevState.isOpen }));\n  };\n\n  getAPicture = (value) => {\n    this.setState({ largeImageURL: value });\n  };\n\n  render() {\n    const { isOpen, images, largeImageURL } = this.state;\n    return (\n      <>\n        <Searchbar addDataForRequest={this.addDataForRequest} />\n        <ImageGallery images={images} getAPicture={this.getAPicture} toggleModal={this.toggleModal} />\n        <LoaderSpinner />\n        {images.length > 0 && <Button increasePageRequest={this.increasePageRequest} />}\n        {isOpen && <Modal largeImageURL={largeImageURL} toggleModal={this.toggleModal} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__o6-OT\",\"SearchForm\":\"Searchbar_SearchForm__2-Kg1\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2m-we\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2TOEv\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3zfHg\"};"],"sourceRoot":""}