(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1jU-Q",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1XeTf"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3_zHG",Modal:"Modal_Modal__31Js0"}},16:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3zovt"}},17:function(e,t,a){e.exports={Button:"Button_Button__2zvY5"}},22:function(e,t,a){},46:function(e,t,a){e.exports={App:"App_App__3ozmI"}},47:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(9),o=a.n(c),s=(a(22),a(7)),i=a.n(s),l=a(11),u=a(10),g=a(3),m=a(4),h=a(6),p=a(5),d="https://pixabay.com/api/?key=",b="18623542-c3ea86fe133d4cad85931c408",j="&image_type=photo",f="&orientation=horizontal",_="&per_page=12",O=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,n=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:1,e.next=3,fetch("".concat(d).concat(b,"&q=").concat(t).concat(j).concat(f,"&page=").concat(a).concat(_));case 3:return r=e.sent,e.abrupt("return",r.ok?r.json():Promise.reject(new Error(r.statusText)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=a(15),x=a.n(v),y=(a(44),a(0)),S=function(){return Object(y.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:200,width:200,timeout:1e3})},I=a(8),F=a.n(I),k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchValue:""},e.handleChange=function(t){var a=t.target.value;e.setState({searchValue:a})},e.handelSubmit=function(t){t.preventDefault(),""!==e.state.searchValue.trim()&&(e.props.addDataForRequest(e.state.searchValue.toLowerCase()),e.setState({searchValue:""}))},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("header",{className:F.a.Searchbar,children:Object(y.jsxs)("form",{className:F.a.SearchForm,onSubmit:this.handelSubmit,children:[Object(y.jsx)("button",{className:F.a.SearchForm_button,type:"submit",children:Object(y.jsx)("span",{className:F.a.SearchForm_button_label,children:"Search"})}),Object(y.jsx)("input",{className:F.a.SearchForm_input,onChange:this.handleChange,value:this.state.searchValue,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})}}]),a}(r.Component),w=k,M=a(16),P=a.n(M),q=a(13),R=a.n(q),C=function(e){var t=e.smalImg,a=e.toggleModal,r=e.getAPicture,n=e.largeImg;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("li",{onClick:function(){a(),r(n)},className:R.a.ImageGalleryItem,children:Object(y.jsx)("img",{className:R.a.ImageGalleryItem_image,src:t,alt:""})})})},G=function(e){var t=e.images,a=e.getAPicture,r=e.toggleModal;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("ul",{className:P.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return Object(y.jsx)(C,{toggleModal:r,getAPicture:a,smalImg:n,largeImg:c},t)}))})})},A=a(17),L=a.n(A),N=function(e){var t=e.increasePageRequest;return Object(y.jsx)("button",{onClick:t,className:L.a.Button,children:"Load more"})},U=a(14),E=a.n(U),B=document.querySelector("#modal-root"),D=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onEscPress=function(t){"Escape"===t.code&&e.props.toggleModal()},e.onBackdropClick=function(t){t.currentTarget===t.target&&e.props.toggleModal()},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onEscPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onEscPress)}},{key:"render",value:function(){var e=this.props.largeImageURL;return console.log(e),Object(c.createPortal)(Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{onClick:this.onBackdropClick,className:E.a.Overlay,children:Object(y.jsx)("div",{className:E.a.Modal,children:Object(y.jsx)("img",{src:e,alt:""})})})}),B)}}]),a}(r.Component),z=D,V=(a(46),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={images:[],request:"",isOpen:!1,page:1,largeImageURL:""},e.addDataForRequest=function(t){return e.setState({request:t})},e.increasePageRequest=function(){e.setState((function(e){return{page:e.page+1}}))},e.toggleModal=function(t){e.setState((function(e){return{isOpen:!e.isOpen}}))},e.getAPicture=function(t){e.setState({largeImageURL:t})},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(i.a.mark((function e(t,a,r){var n,c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,c=n.request,o=n.page,a.page===o&&a.request===c){e.next=15;break}return e.prev=2,e.next=5,O(c,o);case 5:s=e.sent,a.request!==c?this.setState({images:Object(l.a)(s.hits),page:1}):this.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(s.hits))}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({error:e.t0.message});case 12:return e.prev=12,this.setState({loading:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,9,12,15]])})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isOpen,a=e.images,r=e.largeImageURL;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{addDataForRequest:this.addDataForRequest}),Object(y.jsx)(G,{images:a,getAPicture:this.getAPicture,toggleModal:this.toggleModal}),Object(y.jsx)(S,{}),a.length>0&&Object(y.jsx)(N,{increasePageRequest:this.increasePageRequest}),t&&Object(y.jsx)(z,{largeImageURL:r,toggleModal:this.toggleModal})]})}}]),a}(r.Component)),T=V;o.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(T,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__o6-OT",SearchForm:"Searchbar_SearchForm__2-Kg1",SearchForm_button:"Searchbar_SearchForm_button__2m-we",SearchForm_button_label:"Searchbar_SearchForm_button_label__2TOEv",SearchForm_input:"Searchbar_SearchForm_input__3zfHg"}}},[[47,1,2]]]);
//# sourceMappingURL=main.70d42c9b.chunk.js.map